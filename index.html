<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>letsdiveintoweb</title>
  <meta name="description" content="yo lets just explore the most intertwined world wide web, from there we explore to infinite cosmos of information and knowledge" />
  <link rel="icon" type="image/svg+xml" href="assets/logo.svg" />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <link rel="apple-touch-icon" href="assets/favicon-512.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0e12;
      --surface: #0e151d;
      --text: #e8f1ff;
      --muted: #8da3b8;
      --brand: #2ab7ca;
      --brand-2: #f6ae2d;
      --card: #0f1a24;
      --border: #1a2a38;
      --shadow: 0 10px 30px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.03) inset;
    }
    [data-theme="light"]{
      --bg:#f4f7fb; --surface:#ffffff; --text:#0a0e12; --muted:#44556b; --card:#ffffff; --border:#e6eef7; --shadow: 0 10px 30px rgba(10,14,18,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:
        radial-gradient(1200px 600px at 80% -10%, rgba(42,183,202,.14), transparent 60%),
        radial-gradient(900px 500px at -10% 10%, rgba(246,174,45,.12), transparent 55%),
        radial-gradient(700px 400px at 110% 120%, rgba(96,59,146,.10), transparent 60%),
        var(--bg);
      color:var(--text); -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    a{color:inherit; text-decoration:none}
    .container{width:min(1150px, 92%); margin-inline:auto}
    .header{position:sticky; top:0; z-index:40; backdrop-filter:saturate(160%) blur(10px); background:linear-gradient(180deg, rgba(10,14,24,.85), rgba(10,14,24,.55)); border-bottom:1px solid var(--border);}
    .nav{display:flex; align-items:center; gap:14px; padding:14px 0}
    .logo{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.4px}
    .logo .planet{width:26px; height:26px; border-radius:50%; background:radial-gradient(circle at 30% 30%, var(--brand-2), var(--brand)); box-shadow:0 0 24px rgba(42,183,202,.45)}
    .logo .wordmark{background:linear-gradient(90deg, var(--brand-2), var(--brand)); -webkit-background-clip:text; background-clip:text; color:transparent}
    .spacer{flex:1}
    .search{position:relative; width:min(380px, 50vw)}
    .search input{width:100%; padding:12px 40px 12px 12px; border-radius:12px; background:var(--surface); color:var(--text); border:1px solid var(--border); outline:none}
    .search .icon{position:absolute; right:10px; top:50%; transform:translateY(-50%); opacity:.7}
    .btn{padding:10px 14px; border:1px solid var(--border); background:var(--surface); border-radius:12px; color:var(--text); display:inline-flex; align-items:center; gap:8px; box-shadow:var(--shadow); cursor:pointer}
    .btn:hover{transform:translateY(-1px)}
    .hero{position:relative; padding:48px 0 26px}
    .hero-grid{display:grid; grid-template-columns: 3fr 2fr; gap:22px}
    .glass{position:relative; overflow:hidden; border-radius:18px; background:linear-gradient(180deg, rgba(42,183,202,.12), rgba(15,21,34,.7)); border:1px solid var(--border); box-shadow: var(--shadow);}
    .hero-left{padding:28px}
    .eyebrow{display:inline-flex; gap:6px; align-items:center; font-weight:600; color:var(--muted); font-size:12px; letter-spacing:.4px; text-transform:uppercase}
    .hero h1{font-size: clamp(28px, 4.2vw, 48px); line-height:1.05; margin:10px 0 12px}
    .hero p{color:var(--muted); max-width:60ch}
    .blob{position:absolute; inset:auto -15% -40% auto; width:420px; height:420px; filter:blur(24px); opacity:.5; pointer-events:none;}
    .blob::before{content:""; position:absolute; inset:0; background:radial-gradient(closest-side, rgba(124,92,255,.5), transparent 70%)}
    .hero-right{display:grid; grid-template-columns:1fr 1fr; gap:14px; padding:14px}
    .stat{padding:18px; background:var(--surface); border:1px solid var(--border); border-radius:16px}
    .stat .n{font-weight:800; font-size:clamp(18px, 3vw, 28px)}
    .stat .k{color:var(--muted); font-size:12px; letter-spacing:.3px}
    .main{display:grid; grid-template-columns: 1.85fr .9fr; gap:26px; margin:10px 0 40px}
    .grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:18px}
    .card{position:relative; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:var(--shadow); transition:transform .15s ease, box-shadow .15s ease}
    .card:hover{transform:translateY(-3px)}
    .media{aspect-ratio: 16/9; background:linear-gradient(45deg, rgba(42,183,202,.20), rgba(246,174,45,.15)); display:grid; place-items:center}
    .media svg{opacity:.9}
    .content{padding:16px}
    .title{font-weight:800; font-size:18px; margin:0 0 6px}
    .excerpt{color:var(--muted); font-size:14px; line-height:1.55}
    .meta{display:flex; align-items:center; gap:10px; margin-top:12px; font-size:12px; color:var(--muted)}
    .tag{font-size:12px; padding:6px 10px; border:1px solid var(--border); border-radius:999px; color:var(--text); background:var(--surface)}
    .sidebar{display:grid; gap:16px; align-content:start}
    .panel{padding:18px; background:var(--surface); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow)}
    .panel h3{margin:0 0 12px; font-size:16px}
    .tags{display:flex; flex-wrap:wrap; gap:8px}
    footer{margin:34px 0 50px; color:var(--muted); display:flex; align-items:center; justify-content:space-between; gap:12px}
    .social{display:none}
    @media (max-width: 900px){
      .hero-grid{grid-template-columns:1fr}
      .main{grid-template-columns:1fr}
      .search{width:100%}
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a class="logo" href="#"><span class="planet" aria-hidden="true"></span> <span class="wordmark" id="siteTitle">letsdiveintoweb</span></a>
      <nav class="spacer"></nav>
      <div class="search">
        <input id="search" placeholder="Search posts, tags…" aria-label="Search" />
        <span class="icon" aria-hidden="true">⌘K</span>
      </div>
      <button id="toggleTheme" class="btn" title="Toggle theme" aria-label="Toggle dark/light">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3a9 9 0 1 0 9 9 7.5 7.5 0 0 1-9-9Z" stroke="currentColor" stroke-width="1.6"/></svg>
        <span class="hide-sm">Theme</span>
      </button>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-grid">
      <div class="glass hero-left">
        <div class="eyebrow"><span>NEW •</span> <span id="eyebrow">yo lets just explore the most intertwined world wide web…</span></div>
        <h1>letsdiveintoweb</h1>
        <p>yo lets just explore the most intertwined world wide web, from there we explore to infinite cosmos of information and knowledge</p>
        <div class="blob" aria-hidden="true"></div>
      </div>
      <div class="hero-right">
        <div class="stat"><div class="n" id="postCount">3</div><div class="k">Posts</div></div>
        <div class="stat"><div class="n" id="tagCount">0</div><div class="k">Tags</div></div>
        <div class="stat"><div class="n" id="readers">0</div><div class="k">Readers today</div></div>
        <div class="stat"><div class="n">100%</div><div class="k">Free & portable</div></div>
      </div>
    </div>
  </section>

  <main class="container main">
    <section>
      <div id="activeFilters" class="tags" style="margin-bottom:14px"></div>
      <div class="grid" id="grid"></div>
    </section>
    <aside class="sidebar">
      <div class="panel">
        <h3>About</h3>
        <p style="color:var(--muted); margin:0">Hey! I’m <strong id="author">letsdiveintoweb</strong>. We explore the web, tech, and the cosmos of knowledge. This site is a single‑file template—edit it, push online, done. ✨</p>
      </div>
      <div class="panel">
        <h3>Popular tags</h3>
        <div id="tagList" class="tags"></div>
      </div>
      <div class="panel">
        <h3>Newsletter</h3>
        <form id="newsletter">
          <input name="email" type="email" placeholder="you@example.com" required style="width:100%; padding:12px; border-radius:12px; border:1px solid var(--border); background:var(--surface); color:var(--text)">
          <div style="height:10px"></div>
          <button class="btn" type="submit" style="width:100%; justify-content:center">Subscribe</button>
          <p style="color:var(--muted); font-size:12px; margin-top:8px">This demo uses <code>mailto:</code>. Hook it to any service later.</p>
        </form>
      </div>
      <div class="panel">
        <h3>Quick how‑to</h3>
        <ol style="padding-left:18px; margin:0; color:var(--muted)">
          <li>Write posts in <strong>/posts</strong> as <code>.md</code> files (see samples).</li>
          <li>GitHub Action auto‑builds <strong>rss.xml</strong> and <strong>posts.json</strong>.</li>
          <li>Project Pages URL: <code>https://sivashankarg.github.io/test-site/</code></li>
        </ol>
      </div>
    </aside>
  </main>

  <footer class="container">
    <div>© <span id="year"></span> <span id="footerTitle">letsdiveintoweb</span>. Built with ♥.</div>
  </footer>

  <script>
    const FALLBACK_POSTS = [
      { slug: "welcome", title: "Welcome to letsdiveintoweb", date: "2025-08-15", tags: ["meta","update"], excerpt: "Say hello to your new blog template. Portable, fast, gorgeous.", image: null },
      { slug: "how-this-was-built", title: "How this single‑file blog was built", date: "2025-08-10", tags: ["web","design","tutorial"], excerpt: "Layout, styling approach, and zero‑build setup.", image: null },
      { slug: "cosmic-reading-list", title: "A cosmic reading list", date: "2025-07-28", tags: ["life","links"], excerpt: "Neat corners of the web and space to get lost in.", image: null }
    ];

    const qs = (s, el=document) => el.querySelector(s);
    const qsa = (s, el=document) => [...el.querySelectorAll(s)];
    const state = { query: "", tags: new Set(), posts: [] };

    function fmtDate(iso){
      const d = new Date(iso);
      return d.toLocaleDateString(undefined, {year:'numeric', month:'short', day:'numeric'});
    }
    function svgPlaceholder(){
      return `
      <svg width="100%" height="100%" viewBox="0 0 400 225" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0%" stop-color="rgba(42,183,202,.6)"/>
            <stop offset="100%" stop-color="rgba(246,174,45,.5)"/>
          </linearGradient>
        </defs>
        <rect width="400" height="225" rx="18" fill="url(#g)"/>
        <g opacity=".35">
          <circle cx="80" cy="180" r="120" fill="#000"/>
          <circle cx="240" cy="60" r="100" fill="#000"/>
        </g>
      </svg>`;
    }

    function buildTagList(allTags){
      const list = qs('#tagList');
      const arr = [...allTags].sort();
      list.innerHTML = arr.map(t => `<button class="tag" data-tag="${t}">#${t}</button>`).join('');
      qsa('#tagList .tag').forEach(el => el.addEventListener('click', e => {
        toggleTag(e.currentTarget.getAttribute('data-tag'));
      }));
    }

    function renderActiveFilters(){
      const wrap = qs('#activeFilters');
      wrap.innerHTML = [...state.tags].map(t => `
        <span class="tag" data-tag="${t}" title="Click to remove">#${t} ✕</span>
      `).join('');
      qsa('#activeFilters .tag').forEach(el => el.addEventListener('click', e => {
        toggleTag(e.currentTarget.getAttribute('data-tag'));
      }));
    }

    function toggleTag(t){
      if(state.tags.has(t)) state.tags.delete(t); else state.tags.add(t);
      render();
    }

    function render(){
      const grid = qs('#grid');
      const search = state.query.toLowerCase().trim();
      const activeTags = state.tags;
      let posts = [...state.posts].sort((a,b)=> new Date(b.date)-new Date(a.date));
      posts = posts.filter(p => {
        const inSearch = !search || (p.title+" "+p.excerpt+" "+(p.tags||[]).join(" ")).toLowerCase().includes(search);
        const tagOk = activeTags.size === 0 || (p.tags||[]).some(t => activeTags.has(t));
        return inSearch && tagOk;
      });

      grid.innerHTML = posts.map(p => `
        <a href="#/post/${p.slug}" class="card" data-tags="${(p.tags||[]).join(',')}">
          <div class="media">${p.image || svgPlaceholder()}</div>
          <div class="content">
            <h2 class="title">${p.title}</h2>
            <p class="excerpt">${p.excerpt||""}</p>
            <div class="meta">
              <span>📅 ${fmtDate(p.date)}</span>
              ${(p.tags||[]).length?'<span>•</span>':''}
              ${(p.tags||[]).map(t=>`<span class="tag" data-tag="${t}">#${t}</span>`).join(' ')}
            </div>
          </div>
        </a>
      `).join('');

      qsa('.tag').forEach(el => el.addEventListener('click', e => {
        e.preventDefault();
        const t = e.currentTarget.getAttribute('data-tag');
        toggleTag(t);
      }));

      qs('#postCount').textContent = state.posts.length;
      const allTags = new Set(state.posts.flatMap(p=>p.tags||[]));
      qs('#tagCount').textContent = allTags.size;
      buildTagList(allTags);
      renderActiveFilters();
    }

    async function showPost(slug){
      const main = document.querySelector('main');
      const aside = document.querySelector('.sidebar');
      try{
        const res = await fetch(`posts/${slug}.md`);
        if(!res.ok) throw new Error('Post not found');
        const md = await res.text();
        const html = markdownToHTML(md);
        main.innerHTML = `<section><article class="panel" style="padding:26px">${html}</article><p style="margin-top:14px"><a class="btn" href="#">← Back to all posts</a></p></section>`;
        aside.style.display = 'none';
      }catch(err){
        main.innerHTML = `<section class="panel" style="padding:26px"><h2>404</h2><p>We couldn't find that post.</p><p><a class="btn" href="#">Go home</a></p></section>`;
        aside.style.display = 'none';
      }
    }
    function showHome(){
      const main = document.querySelector('main');
      main.innerHTML = `<section><div id="activeFilters" class="tags" style="margin-bottom:14px"></div><div class="grid" id="grid"></div></section>
        <aside class="sidebar">
          <div class="panel"><h3>About</h3><p style="color:var(--muted); margin:0">Hey! I’m <strong id="author">letsdiveintoweb</strong>. We explore the web, tech, and the cosmos of knowledge. This site is a single‑file template—edit it, push online, done. ✨</p></div>
          <div class="panel"><h3>Popular tags</h3><div id="tagList" class="tags"></div></div>
          <div class="panel"><h3>Newsletter</h3><form id="newsletter"><input name="email" type="email" placeholder="you@example.com" required style="width:100%; padding:12px; border-radius:12px; border:1px solid var(--border); background:var(--surface); color:var(--text)"><div style="height:10px"></div><button class="btn" type="submit" style="width:100%; justify-content:center">Subscribe</button><p style="color:var(--muted); font-size:12px; margin-top:8px">This demo uses <code>mailto:</code>. Hook it to any service later.</p></form></div>
          <div class="panel"><h3>Quick how‑to</h3><ol style="padding-left:18px; margin:0; color:var(--muted)"><li>Write posts in <strong>/posts</strong> as <code>.md</code> files (see samples).</li><li>GitHub Action auto‑builds <strong>rss.xml</strong> and <strong>posts.json</strong>.</li><li>Project Pages URL: <code>https://sivashankarg.github.io/test-site/</code></li></ol></div>
        </aside>`;
      render();
    }
    function router(){
      const hash = location.hash.slice(1);
      if(hash.startsWith('/post/')){
        const slug = hash.replace('/post/','');
        showPost(slug);
      }else{
        showHome();
      }
    }

    function markdownToHTML(md){
      md = md.replace(/^---[\s\S]*?---\n/, '');
      return md
        .replace(/^### (.*$)/gim, '<h3>$1</h3>')
        .replace(/^## (.*$)/gim, '<h2>$1</h2>')
        .replace(/^# (.*$)/gim, '<h1>$1</h1>')
        .replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/gim, '<em>$1</em>')
        .replace(/`{3}([\s\S]*?)`{3}/gim,'<pre><code>$1</code></pre>')
        .replace(/`([^`]+)`/gim,'<code>$1</code>')
        .replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>')
        .replace(/^\s*\- (.*$)/gim, '<li>$1</li>')
        .replace(/(<li>.*<\/li>)/gims, '<ul>$1</ul>')
        .replace(/\n\n/g, '<br/><br/>');
    }

    const THEME_KEY = 'letsdiveintoweb-theme';
    function applyTheme(pref){
      document.documentElement.setAttribute('data-theme', pref);
      localStorage.setItem(THEME_KEY, pref);
    }
    const saved = localStorage.getItem(THEME_KEY);
    if(saved){ applyTheme(saved); }
    else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches){ applyTheme('light'); }
    document.getElementById('toggleTheme').addEventListener('click', ()=>{
      const cur = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      applyTheme(cur);
    });
    document.getElementById('search').addEventListener('input', (e)=>{ state.query = e.target.value; render(); });
    document.getElementById('year').textContent = new Date().getFullYear();

    async function loadPosts(){
      try{
        const res = await fetch('posts.json', {cache:'no-store'});
        if(!res.ok) throw new Error('no posts.json');
        state.posts = await res.json();
      }catch(e){
        state.posts = FALLBACK_POSTS;
      }
      router();
    }
    window.addEventListener('hashchange', router);
    loadPosts();
  </script>
</body>
</html>
